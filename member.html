<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>responder.gg | Home</title>
    <link rel="stylesheet" href="css/style.css" />
    <script src="js/main.js"></script>
    <script src="js/supabase.js" type="module"></script>
  </head>
  <body>
    <div
      class="admin-panel"
      style="margin: 20px; padding: 20px; border: 1px solid #ddd"
    >
      <h2>Add New Member</h2>
      <form id="addMemberForm">
        <div style="margin-bottom: 10px">
          <label>Full Name:</label>
          <input
            type="text"
            id="memberName"
            required
            style="padding: 5px; width: 200px"
          />
        </div>
        <div style="margin-bottom: 10px">
          <label>Position:</label>
          <select
            id="memberPosition"
            required
            style="padding: 5px; width: 200px"
          >
            <option value="">Select position...</option>
            <option value="engine_chauffeur">Engine Chauffeur</option>
            <option value="engine_officer">Engine Officer</option>
            <!-- Add all other position options -->
          </select>
        </div>
        <button
          type="submit"
          style="
            padding: 5px 10px;
            background-color: #4caf50;
            color: white;
            border: none;
          "
        >
          Add Member
        </button>
      </form>
    </div>

    <script>
      document
        .getElementById("addMemberForm")
        .addEventListener("submit", async (e) => {
          e.preventDefault()

          const name = document.getElementById("memberName").value
          const position = document.getElementById("memberPosition").value

          const result = await addMember(name, position)

          if (result) {
            alert("Member added successfully!")
            document.getElementById("addMemberForm").reset()
            // Refresh dropdowns if needed
            populateDropdowns()
          } else {
            alert("Failed to add member. Please check console for details.")
          }
        })
    </script>
  </body>
  <script src="js/main.js"></script>
</html>
